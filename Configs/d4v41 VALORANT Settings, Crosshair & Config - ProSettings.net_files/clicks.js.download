if(window.NodeList&&!NodeList.prototype.forEach){NodeList.prototype.forEach=Array.prototype.forEach;}
var AdvAdsClickTracker={wrappers:[],overTarget:false,currentTarget:false,lastClick:[],elements:['iframe','a.adv-link','button.adv-link'],targets:['aswift_0','aswift_1','aswift_3','aswift_4','aswift_5','aswift_6','aswift_7','aswift_8','aswift_9'],findTargets:function(){AdvAdsClickTracker.wrappers.forEach(function(wrapper){var wrapperElements=document.querySelectorAll(wrapper);wrapperElements.forEach(function(wrapperElement){if(wrapperElement!==null){AdvAdsClickTracker.elements.forEach(function(element){Array.prototype.push.apply(AdvAdsClickTracker.targets,Array.prototype.slice.call(wrapperElement.querySelectorAll(element)));});}});});AdvAdsClickTracker.targets=AdvAdsClickTracker.targets.filter(AdvAdsTrackingUtils.arrayUnique);this.processTargets();},processTargets:function(){AdvAdsClickTracker.targets.forEach(function(target){AdvAdsClickTracker.registerTargetHandlers(target);});},registerTargetHandlers:function(target){target.onmouseover=this.mouseOver;target.onmouseout=this.mouseOut;if(typeof window.attachEvent!=='undefined'){top.attachEvent('onblur',this.adClick);}else if(typeof window.addEventListener!=='undefined'){top.addEventListener('blur',this.adClick,false);}},registerWrapperHandlers:function(){var touchmoved;['click','touchend','auxclick'].forEach(function(event){document.addEventListener(event,function(e){if((e.type==='auxclick'&&(e.which!==2&&e.which!==1))||touchmoved){return;}
var clickable=false;if(['a','iframe','button'].indexOf(e.target.localName)!==-1){clickable=true;}
for(var target=e.target;target&&target!==this;target=target.parentNode){if(target.parentNode!==null&&!clickable&&(['a','iframe','button'].indexOf(target.parentNode.localName)!==-1)){clickable=true;}
var match=false;AdvAdsClickTracker.wrappers.forEach(function(className){if(target.matches?target.matches(className):target.msMatchesSelector(className)){if(!e.target.classList.contains('notrack')&&(clickable||target.querySelector('iframe')!==null)){match=true;}}});if(match){if(this.currentTarget===e.target){return;}
AdvAdsClickTracker.ajaxSend(e.target);break;}}},{capture:true});});document.addEventListener('touchmove',function(e){touchmoved=true;},false);document.addEventListener('touchstart',function(e){touchmoved=false;},false);},adClick:function(){if(AdvAdsClickTracker.overTarget){AdvAdsClickTracker.ajaxSend(AdvAdsClickTracker.currentTarget);top.focus();}},mouseOver:function(){AdvAdsClickTracker.overTarget=true;AdvAdsClickTracker.currentTarget=this;},mouseOut:function(){AdvAdsClickTracker.overTarget=false;AdvAdsClickTracker.currentTarget=false;top.focus();},ajaxSend:function(element){var dataId=element.getAttribute('data-'+AdvAdsTrackingUtils.getPrefixedAttribute('trackid'));var bId=element.getAttribute('data-'+AdvAdsTrackingUtils.getPrefixedAttribute('trackbid'));var redirectLink=element.getAttribute('data-'+AdvAdsTrackingUtils.getPrefixedAttribute('redirect'));if(dataId===null){var parent=AdvAdsTrackingUtils.findParentByClassName(element,[advadsTracking.targetClass]);dataId=parent.getAttribute('data-'+AdvAdsTrackingUtils.getPrefixedAttribute('trackid'));bId=parent.getAttribute('data-'+AdvAdsTrackingUtils.getPrefixedAttribute('trackbid'));redirectLink=parent.getAttribute('data-'+AdvAdsTrackingUtils.getPrefixedAttribute('redirect'));}
var ajaxHandler=advads_tracking_urls[bId];var postData={action:window.advadsTracking.clickActionName,referrer:window.location.pathname+window.location.search,type:'ajax',ads:[dataId],bid:bId};if(10>(AdvAdsTrackingUtils.getTimestamp()-this.lastClick[dataId])){return false;}
if(AdvAdsTrackingUtils.blogUseGA(bId)){var tracker=advancedAdsGAInstances.getInstance(bId);tracker.trackClick(dataId,false,false,false);this.lastClick[dataId]=AdvAdsTrackingUtils.getTimestamp();if(!advads_tracking_parallel[bId]){return;}}
if(redirectLink){return;}
if(navigator.sendBeacon&&ajaxHandler.indexOf('admin-ajax.php')===-1){var beaconData=JSON.parse(JSON.stringify(postData));beaconData.type='beacon';beaconData=new Blob([JSON.stringify(beaconData)],{type:'application/json; charset=UTF-8'});navigator.sendBeacon(ajaxHandler,beaconData);}else{AdvAdsTrackingUtils.post(ajaxHandler,postData,false);}
this.lastClick[dataId]=AdvAdsTrackingUtils.getTimestamp();}};advanced_ads_ready(function(){AdvAdsClickTracker.wrappers=(advadsTracking.targetClass!==null&&advadsTracking.targetClass!=='')?Array('.'+advadsTracking.targetClass,'.adsbygoogle'):Array(' ','.adsbygoogle');window.onpageshow=function(event){if(event&&event.persisted){window.location.reload();}};setTimeout(function(){AdvAdsClickTracker.findTargets();},1500);AdvAdsClickTracker.registerWrapperHandlers();},'interactive');