"use strict";var prosett=prosett||{};prosett.link_expander={init:function(){this.register_events()},register_events:function(){for(var t=document.querySelectorAll(".linked"),e=0;e<t.length;e++)t[e].addEventListener("click",this.trigger_link.bind(this));window.addEventListener("resize",(function(){for(var t=document.querySelectorAll(".modal"),e=0;e<t.length;e++){var n=t[e];n.classList.contains("is-open")&&MicroModal.close(n.id)}})),document.addEventListener("mousedown",(function(t){4!==t.buttons||t.target.classList.contains("js-link-target-secondary")||(t.target.classList.contains("linked")?window.open(t.target.querySelector(".js-link-target").getAttribute("href"),"_blank"):t.target.closest(".linked")&&window.open(t.target.closest(".linked").querySelector(".js-link-target").getAttribute("href"),"_blank"))}))},trigger_link:function(t){var e=window.matchMedia("(max-width: 767.98px)"),n=t.target.closest(".linked");if(null===t.target.closest(".gear-card__player"))if(n.classList.contains("has-brand-link")&&t.target.classList.contains("js-brand-link"))this.handle_brand_link(t);else if(e.matches&&n.classList.contains("has-secondary-cta"))this.trigger_link_mobile(t);else if(!t.target.classList.contains("js-link-target-secondary")&&!t.target.classList.contains("js-brand-link")){t.preventDefault();var i=n.querySelectorAll(".js-link-target"),r=n.classList.contains("ext-link")?"_blank":"_self";if(i.length>0){var a=i[0].getAttribute("href");window.open(a,r)}}},handle_brand_link:function(t){t.preventDefault();var e=t.target.getAttribute("href");window.open(e,"_blank")},trigger_link_mobile:function(t){t.preventDefault();var e=t.target.closest(".linked"),n=[e.querySelector(".js-link-target"),e.querySelector(".js-link-target-secondary")];MicroModal.show("modal-cta",{onShow:function(t){for(var e=t.querySelector(".modal__content"),i=0;i<n.length;i++){var r=n[i].cloneNode(!0);r.addEventListener("click",(function(){return MicroModal.close("modal-cta")})),e.appendChild(r)}},onClose:function(t){var e=t.querySelector(".modal__content");setTimeout((function(){e.innerHTML=""}),300)},awaitOpenAnimation:!0,awaitCloseAnimation:!0})}},window.addEventListener("load",(function(){prosett.link_expander.init()}));