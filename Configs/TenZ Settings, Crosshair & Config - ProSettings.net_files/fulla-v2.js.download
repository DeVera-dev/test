"use strict";var prosett=prosett||{},fetchState=0;prosett.fulla={ad_shown:!1,init:function(){var e=this;this.wait_for_elm("#fulla-player-sidebar").then((function(t){console.log("#fulla-player-sidebar loaded ..."),"undefined"!=typeof fulla_iframe_url&&(console.log("[fulla_placement] - setting internally!"),document.getElementById("fulla-player-sidebar").src=fulla_iframe_url),e.manage_iframe(),e.iframe_click_tracking()}))},subscribe_to_events:function(e,t,n){var o=function(o){if(e&&o.source===e.contentWindow)try{var i=JSON.parse(o.data);i&&"string"==typeof i.type&&t(i)}catch(o){null==n||n(o)}};return window.addEventListener("message",o),function(){return window.removeEventListener("message",o)}},wait_for_elm:function(e){return new Promise((function(t){if(window.document.querySelector(e))return t(window.document.querySelector(e));var n=new MutationObserver((function(o){window.document.querySelector(e)&&(n.disconnect(),t(window.document.querySelector(e)))}));console.log("observer : "),console.log(n),n.observe(document.body,{childList:!0,subtree:!0})}))},manage_iframe:function(){var e=document.querySelector("#fulla-player-sidebar");console.log("fulla manage frame ..."),console.log(e);prosett.fulla.subscribe_to_events(e,(function(t){switch(console.log("[FULLA EVENT]:"),console.log(t),t.type){case"RESIZE":void 0!==t.height&&t.height>0&&prosett.fulla.show_ad(e,t.height);break;case"DATA":0==t.available&&prosett.fulla.create_nm_div()}}),(function(e){}))},show_ad:function(e,t){1!=prosett.fulla.ad_shown&&(e.style.cssText="position: sticky; top: 100px; margin-bottom: 20px; height: ".concat(t,"px"),window.dataLayer.push({event:"oddin_ad_loaded"}),prosett.fulla.ad_shown=!0)},create_nm_div:function(){var e=document.createElement("div");e.id="next_millenium_fulla_empty",e.style.cssText="position: absolute; z-index: -1; bottom: 0; right: 0; opacity: 0; width: 1px; height: 1px; overflow: hidden;",document.body.appendChild(e)},iframe_click_tracking:function(){var e=window.addEventListener("blur",(function(){document.activeElement==document.querySelector("#fulla-player-sidebar")&&window.dataLayer.push({event:"oddin_ad_clicked"}),window.removeEventListener("blur",e)}))}},prosett.fulla.init();