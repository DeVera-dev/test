"use strict";var prosett=prosett||{};prosett.toc={init:function(){this.register_events();var e=window.pageYOffset,t=document.querySelectorAll(".center-container > section[id], .center-container > div[id]"),i=document.querySelectorAll(".center-container > div#games > div[id] > section[id], .center-container > div#equipment > section[id]");e>0&&(prosett.toc.toc_main_active_link(t),prosett.toc.toc_game_active_link(i))},register_events:function(){var e=document.querySelectorAll(".center-container > section[id], .center-container > div[id]"),t=document.querySelectorAll(".center-container > div#games > div[id] > section[id], .center-container > div#equipment-settings > section[id]"),i=document.querySelector(".js-toc-toggle");window.addEventListener("scroll",(function(){prosett.toc.toc_main_active_link(e),prosett.toc.toc_game_active_link(t)})),i&&(i.addEventListener("click",this.toc_toggle_topbar.bind(this)),window.addEventListener("click",this.toc_close_dropdown.bind(this)))},toggle_nav:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.parentNode,i=t.parentNode.getElementsByTagName("ol")[0];"none"===i.style.display?(i.style.display="block",t.classList.remove("open-nav")):(i.style.display="none",t.classList.add("open-nav"))},toc_toggle_topbar:function(e){e.target.parentNode.classList.toggle("open")},toc_close_dropdown:function(e){var t=document.querySelector(".sticky-topbar__dropdown--toc");t.contains(e.target)||t.classList.remove("open")},toc_main_active_link:function(e){var t=window.pageYOffset;e.forEach((function(e){var i=e.offsetHeight,o=e.getBoundingClientRect().top+window.scrollY-197,n=document.querySelectorAll(".toc > ol li.game > a"),c=e.getAttribute("id"),a=document.querySelector(".toc > ol li > a[href*="+c+"]");if(t>o&&t<=o+i){if("games"===c)for(var s=0;s<n.length;s++)n[s].classList.add("active");else if(a){a.classList.add("active");for(s=0;s<n.length;s++)n[s].classList.remove("active")}}else a&&a.classList.remove("active")}))},toc_game_active_link:function(e){var t=window.pageYOffset;e.forEach((function(e){var i=e.offsetHeight,o=e.getBoundingClientRect().top+window.scrollY-197,n=e.getAttribute("id"),c=document.querySelector(".game > ol li > a[href*="+n+"]"),a=document.querySelector(".equipment > ol li > a[href*="+n+"]");c&&(t>o&&t<=o+i?c.classList.add("active"):c.classList.contains("active")&&c.classList.remove("active")),a&&(t>o&&t<=o+i?a.classList.add("active"):a.classList.contains("active")&&a.classList.remove("active"))}))}},window.addEventListener("load",(function(){prosett.toc.init()}));